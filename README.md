# 🏪 창건샘의 How Much 마켓

초등학생들의 영어회화 연습을 위한 게임화된 마켓플레이스 애플리케이션

## 🆕 v2.0 주요 업데이트 (2024년 9월)

### 🏫 반별 마켓플레이스 시스템
- **완전 분리된 반별 운영**: 4학년 1반, 2반, 3반 등 각각 독립적인 마켓플레이스
- **학번 기반 자동 반 배정**: 첫 두 자리 숫자로 반 자동 구분 (41XX → 4-1반)
- **반 정보 실시간 표시**: 로그인 시 헤더에 현재 반 정보 표시
- **선생님 전체 접근**: 0000 학번 선생님은 모든 반 통합 관리 가능

### 🛡️ 고급 관리자 시스템 
- **3단계 보안 데이터 초기화**: 확인→비밀번호→최종확인 단계별 보안
- **선택적 초기화 옵션**: 전체/반별/포인트만 등 세분화된 초기화
- **실시간 모니터링**: 반별 현황, 통계, 활동 내역 종합 대시보드
- **비상 복구 시스템**: 수업 중 문제 발생시 즉시 원상복구 가능

### 📊 향상된 데이터 관리
- **환경별 호환성**: GenSpark 프리뷰/게시 환경 모두 지원
- **오프라인 모드**: 네트워크 문제시 임시 오프라인 모드 제공
- **에러 복구**: 데이터베이스 연결 실패시 자동 재시도 및 복구

## ✨ 주요 특징

### 🎮 게임화 요소
- **포켓몬 카드 스타일 아이템 시스템**: 가격에 따른 등급 분류 (Common, Rare ⭐, Epic ⭐⭐, Legendary ⭐⭐⭐)
- **홀로그램 효과**: 각 카드에 고급스러운 홀로그램 애니메이션 적용
- **불꽃놀이 애니메이션**: 전설급 아이템 구매시 화려한 불꽃놀이 효과
- **레벨 시스템**: 판매 실적 기반 5단계 레벨 (초보자 → 상인 → 거상 → 재벌 → 전설의 상인)
- **성공 메시지**: 구매 성공시 등급별 맞춤 축하 메시지

### 🎵 사운드 시스템
- **구매 성공음**: 상승하는 멜로디로 구매 완료 알림
- **전설급 특별음**: 화려한 4음계 멜로디
- **클릭음**: 버튼 상호작용 피드백
- **레벨업음**: 트럼펫 스타일 축하음
- **토글 가능**: 사용자가 원할 때 소리 켜기/끄기 가능

### 🎨 디자인 개선
- **부드러운 컬러 테마**: 눈에 편안한 파스텔 블루 기반 색상으로 변경
- **부드러운 폰트**: 'Noto Sans KR' + 'Jua' 폰트로 아이들 친화적인 디자인
- **향상된 애니메이션**: 3D 변형, 스케일링, 그림자 효과
- **카테고리별 컬러**: 각 카테고리마다 고유한 그라데이션 색상
- **반응형 버튼**: 호버시 빛나는 효과와 부드러운 변형

### 💰 이중 포인트 시스템
- **구매 포인트 (🛒)**: 아이템 구매용 포인트 (초기 10,000P)
- **판매 수익 (✨)**: 판매로 얻은 수익 (레벨 시스템 기준)

### 🎯 교육 목적
- **영어 회화 연습**: "How much is this?" 대화 연습
- **가격 협상**: 아이템 가격 수정 기능으로 협상 시뮬레이션
- **경제 개념 학습**: 구매/판매, 수익 계산 등 기초 경제 개념

## 🚀 현재 구현된 기능

### 👤 사용자 시스템
- [✅] 4자리 학번 기반 로그인 (예: 4101, 4202, 4303)
- [✅] 학생/선생님 계정 구분 (선생님: 0000)
- [✅] 개별 포인트 관리 (구매P/판매P)
- [✅] 실시간 레벨 표시
- [✅] **반별 분리 시스템** (4학년 1반, 2반, 3반 등)
- [✅] **반 정보 헤더 표시** (로그인 시 자동 표시)

### 🛒 마켓플레이스
- [✅] 실시간 아이템 목록
- [✅] **반별 아이템 필터링** (학생은 같은 반 아이템만 보기)
- [✅] 카테고리별 필터링
- [✅] 포켓몬 카드 스타일 디자인
- [✅] 등급별 특수 효과
- [✅] 구매 모달 및 확인 시스템
- [✅] 성공 애니메이션 (불꽃놀이 포함)

### 🎨 아이템 판매
- [✅] HTML5 Canvas 그림 그리기
- [✅] 16색 컬러 팔레트
- [✅] 브러시 크기 조절 (1-20px)
- [✅] 지우개 도구
- [✅] 실시간 미리보기
- [✅] 카테고리 분류 (8개 카테고리)

### 📋 관리 기능
- [✅] 내 아이템 목록 (반별 필터링 적용)
- [✅] 거래 내역 (구매/판매)
- [✅] 아이템 가격 수정
- [✅] **선생님 종합 대시보드**
- [✅] **반별 현황 모니터링** (학생수, 아이템수, 거래량)
- [✅] **고급 데이터 초기화 시스템**

### 🎵 인터랙티브 요소
- [✅] 선택적 사운드 효과
- [✅] 호버 애니메이션
- [✅] 클릭 피드백
- [✅] 성공/실패 알림

### 🔐 관리자 기능 (선생님 전용)
- [✅] **3단계 보안 인증** (관리자 비밀번호: teacher123)
- [✅] **전체 데이터 초기화** (아이템 + 거래내역 + 포인트)
- [✅] **반별 데이터 초기화** (특정 반만 선택적 초기화)
- [✅] **포인트 일괄 초기화** (모든 학생 포인트 원상복구)
- [✅] **실시간 시스템 모니터링**
- [✅] **공지사항 시스템** (실시간 알림)
- [✅] **통계 대시보드** (반별/전체 현황)

## 📊 데이터 구조

### Users 테이블
```javascript
{
  id: "UUID",
  student_number: "4자리 숫자",    // 학번 (반 구분: 41XX=4-1반, 42XX=4-2반)
  name: "사용자 이름",
  purchase_points: 10000,         // 구매 포인트
  sales_earnings: 0,              // 판매 수익
  is_teacher: false,              // 선생님 여부 (학번 0000)
  role: "student|teacher",        // 역할
  is_active: true,                // 활성 상태
  created_at: "timestamp",
  updated_at: "timestamp"
}
```

### 🏫 반별 시스템 매핑
```javascript
{
  "41XX": "4학년 1반",  // 4101, 4102, 4103...
  "42XX": "4학년 2반",  // 4201, 4202, 4203...
  "43XX": "4학년 3반",  // 4301, 4302, 4303...
  "44XX": "4학년 4반",  // 4401, 4402, 4403...
  "45XX": "4학년 5반",  // 4501, 4502, 4503...
  "0000": "선생님"      // 모든 반 접근 권한
}
```

### Items 테이블
```javascript
{
  id: "UUID",
  name: "아이템 이름",
  description: "설명",
  price: 50,                 // 가격 (등급 결정 기준)
  category: "toys",          // 카테고리
  image_url: "data:image/png;base64,xxx",
  seller_id: "UUID",
  status: "available|sold",
  created_at: "timestamp",
  updated_at: "timestamp"
}
```

### Transactions 테이블
```javascript
{
  id: "UUID",
  buyer_id: "UUID",
  seller_id: "UUID", 
  item_id: "UUID",
  amount: 50,
  transaction_time: "timestamp",
  created_at: "timestamp",
  updated_at: "timestamp"
}
```

## 🏆 등급 시스템

### 아이템 등급 (가격 기준)
- **Common**: ~50P (회색 테두리)
- **Rare ⭐**: 51-100P (골드 테두리, 골드 글로우)
- **Epic ⭐⭐**: 101-200P (퍼플 테두리, 퍼플 펄스)
- **Legendary ⭐⭐⭐**: 201P+ (오렌지 테두리, 레전더리 글로우, 불꽃놀이)

### 사용자 레벨 (판매 수익 기준)
- **🌱 초보자**: 0-99P
- **🏪 상인**: 100-299P  
- **💰 거상**: 300-599P
- **👑 재벌**: 600-999P
- **🌟 전설의 상인**: 1000P+

## 🎨 디자인 시스템

### 컬러 팔레트
```css
--primary-color: #6eb5ff        /* 메인 파란색 */
--primary-light: #a8d0ff       /* 연한 파란색 */
--primary-dark: #4a9eff        /* 진한 파란색 */
--secondary-color: #b3e5fc     /* 하늘색 */
--accent-color: #81c784        /* 포인트 초록 */
--background-light: #f8fbff    /* 배경색 */
--success-color: #81c784       /* 성공 색상 */
--warning-color: #ffcc80       /* 경고 색상 */
--error-color: #ef5350         /* 에러 색상 */
```

### 폰트 시스템
- **메인 폰트**: 'Noto Sans KR' (한글 최적화)
- **제목 폰트**: 'Jua' (부드럽고 친근한 느낌)

## 🛠️ 기술 스택

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Styling**: Tailwind CSS + Custom CSS
- **Icons**: Font Awesome 6
- **Canvas**: HTML5 Canvas API
- **Audio**: Web Audio API
- **Storage**: RESTful Table API
- **Animation**: CSS Animations & Transitions

## 📱 반응형 지원

- **데스크톱**: 1024px 이상 (크롬북 최적화)
- **태블릿**: 768px - 1023px
- **모바일**: 320px - 767px

## 🎯 교육 효과

1. **영어 회화**: "How much is this?" 표현 자연스럽게 학습
2. **경제 개념**: 구매/판매, 수익 계산 등 기초 경제 이해
3. **창의성**: 그림 그리기를 통한 창작 활동
4. **수학**: 가격 계산, 포인트 관리를 통한 수학적 사고
5. **디지털 리터러시**: 안전한 온라인 거래 시뮬레이션

## 🔄 게임화 루프

1. **아이템 제작** (그림 그리기) → 
2. **판매 등록** (가격 설정) → 
3. **구매 활동** (영어 표현 연습) → 
4. **포인트 획득** (성취감) → 
5. **레벨업** (동기부여) → 
6. **새로운 아이템 제작** (반복)

## 🚀 향후 개선 계획

### 미구현 기능
- [ ] 아이템 위시리스트 기능
- [ ] 친구 시스템 및 선물하기
- [ ] 시즌별 특별 이벤트 아이템
- [ ] 더 다양한 사운드 효과 (BGM, 환경음)
- [ ] 실시간 채팅 시스템 (반별 채팅방)
- [ ] 경매 시스템
- [ ] 업적/배지 시스템 확장
- [ ] 반 간 교류 이벤트 모드
- [ ] 학부모 모니터링 대시보드
- [ ] 데이터 백업/복원 시스템

### 성능 최적화
- [ ] 이미지 최적화 및 압축
- [ ] 무한 스크롤 구현
- [ ] 캐싱 시스템 도입

### 교육 기능 강화
- [ ] 영어 단어 카드 연동
- [ ] 음성 인식을 통한 발음 평가
- [ ] 문장 완성 게임 추가

## 📖 사용 방법

### 👨‍🎓 학생용 가이드
1. **로그인**: 4자리 학번으로 로그인 (예: 4101=4학년1반1번)
2. **반별 마켓 확인**: 헤더에서 내 반 정보 확인
3. **마켓 둘러보기**: 같은 반 친구들이 판매한 아이템 구경
4. **아이템 구매**: 마음에 드는 아이템 클릭 후 구매
5. **아이템 판매**: 그림을 그려서 나만의 아이템 제작 후 판매
6. **레벨업**: 판매 실적을 쌓아 더 높은 등급 달성

### 👩‍🏫 선생님용 관리 가이드
1. **관리자 로그인**: 학번 0000, 비밀번호 teacher123
2. **종합 현황 모니터링**: 전체/반별 통계 실시간 확인
3. **학생 관리**: 각 반별 학생 포인트 및 활동 내역 관리
4. **데이터 초기화**: 
   - 전체 초기화: 모든 데이터 원상복구
   - 반별 초기화: 특정 반만 선택적 초기화
   - 포인트 초기화: 학생 포인트만 원상복구
5. **보안**: 모든 초기화 작업은 3단계 보안 인증 필수

### 🔐 데이터 초기화 안전장치
1. **1차 확인**: 초기화 의도 확인
2. **2차 인증**: 관리자 비밀번호(teacher123) 입력
3. **3차 확인**: 최종 확인 및 실행

---

**🌟 창건샘의 How Much 마켓과 함께 즐겁게 영어를 배워요!**